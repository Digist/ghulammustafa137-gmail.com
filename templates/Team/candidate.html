{% extends 'Team/layout.html' %}

{% block content %}


    {% if year=='All' %}
    <div id="demo" class="carousel slide" data-ride="carousel">
     <!-- Indicators -->
      <ul class="carousel-indicators">
         <li data-target="#demo" data-slide-to="0" class="active"></li>
         <li data-target="#demo" data-slide-to="1"></li>
         <li data-target="#demo" data-slide-to="2"></li>
         <li data-target="#demo" data-slide-to="3"></li>
       </ul>

    <!-- The slideshow -->
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{{ url_for('static',filename='images/First.png') }}" alt="first" class="img-fluid">
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static',filename='images/Second.png') }}" alt="second" class="img-fluid">
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static',filename='images/Third.png') }}" alt="third" class="img-fluid">
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static',filename='images/Fourth.png') }}" alt="final" class="img-fluid">
        </div>
    </div>

    <!-- Left and right controls -->
    <a class="carousel-control-prev" href="#demo" data-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#demo" data-slide="next">
        <span class="carousel-control-next-icon"></span>
    </a>
    </div>

    {% else %}

    <img src="{{ url_for('static',filename='images/'+year+'.png') }}" class="img-fluid" alt="Responsive image">

    {% endif %}

    <div class="container-fluid">
        <div class="row" id="row">
            <div class="col-lg-4 col-sm-4"><a href="{{ url_for('home') }}" id="row1">Home ></a>
                <a href="{{ url_for('candidate',year='All') }}" id="row3"> Candidates ></a>
                <a href="{{ url_for('candidate',year=year) }}" id="row4"> {{ year }}</a></div>
            <div class="col-lg-8 col-sm-8" id="row2"> Total Number Of Candidates: {{ numCandidates }}</div>
        </div>
    </div>
    <br/>
    <div class="container-fluid">
        <div class="titletable">
            <div class="col-lg-12 col-sm-12" id="candidate">Candidates List<div style="float:right;"><input style="margin-right:9px;display: inline-block;width: 25%;" type="number" id="numRecords" class="form-control" placeholder="10"><span>of {{ numCandidates }}</span></div>
</div>
        </div>
        <table class="table">
            <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">First Name</th>
                <th scope="col">Email</th>
                <th scope="col">Contact Number</th>
                <th scope="col">Year</th>
                <th scope="col">Department</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody id="tableBody">
            {% for candidate in candidates %}
            <tr>
                <th scope="row">{{ loop.index }}</th>
                <td>{{ candidate.name }}</td>
                <td>{{ candidate.email }}</td>
                <td>{{ candidate.phone_number }}</td>
                <td>{{ candidate.year if year == 'All' else year}}</td>
                <td>{{ candidate.discipline }}</td>
                <td>
                    <button type="button" class="btn btn-success">Turn In</button>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

        <button style="margin:15px auto;display: block;" id="loadMoreBtn" class="btn btn-outline-dark" {{ 'disabled' if candidates|length < 10 else ''}}>Load More</button>

    </div>
    <script src="{{ url_for('static',filename='js/candidate.js') }}"></script>

{% endblock %}